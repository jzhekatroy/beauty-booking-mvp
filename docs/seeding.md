## Скрипты наполнения тестовыми данными (seeding)

Этот документ описывает, как запускать скрипты сидирования для проверки аналитики, календаря и UI страниц админ‑панели.

### 1) Реалистичный демо‑сидер

Файл: `scripts/seed_realistic_demo.js`

Назначение: создать «живую» демо‑картину с:
- услугами (~8 штук),
- мастерами (с реальными именами),
- расписаниями мастеров по шаблонам,
- отсутствиями (отпуск/больничный),
- плотными бронированиями (3–8 в день на мастера) с разной длительностью (30–180 мин) и статусами.

Запуск (пример):
```bash
SEED_TEAM_SLUG=B0000001 \
SEED_BOOKINGS=2500 \
SEED_MASTERS=9 \
SEED_CLIENTS=120 \
SEED_DAYS_BACK=365 \
SEED_DAYS_FORWARD=365 \
node scripts/seed_realistic_demo.js
```

Поддерживаемые переменные окружения:
- `SEED_TEAM_SLUG` — слаг команды (например, `B0000001`). Альтернатива: `SEED_TEAM_ID`.
- `SEED_BOOKINGS` — целевое количество бронирований (по умолчанию 2000).
- `SEED_MASTERS` — сколько мастеров нужно иметь (по умолчанию 9; недостающих добавит).
- `SEED_CLIENTS` — сколько клиентов нужно иметь (по умолчанию 120; недостающих добавит).
- `SEED_DAYS_BACK`, `SEED_DAYS_FORWARD` — диапазон в днях назад/вперёд (по умолчанию 365/365).
- `SEED_ADMIN_EMAIL`, `SEED_ADMIN_PASSWORD` — учётка админа для входа (по умолчанию `analytics_admin@example.com` / `password`).

Примечания:
- Скрипт ДОПОЛНЯЕТ данные (не чистит существующие), будьте аккуратны с многократным запуском.
- Создаёт мастеров с ролью `ADMIN`, чтобы под ними можно было авторизоваться для проверки UI.
- Расписания перезаписываются (удаляются старые и создаются новые по шаблонам).
- Отсутствия удаляются/создаются заново (по 2 на мастера — отпуск и больничный).

### 2) Массовая аналитика (большие объёмы)

Файл: `scripts/seed_analytics.js`

Назначение: сгенерировать большие объёмы данных (мастера/услуги/клиенты/брони) для нагрузочного теста и проверки аналитики.

Запуск (пример):
```bash
SEED_TEAM_SLUG=B0000001 \
SEED_BOOKINGS=5000 \
SEED_MASTERS=9 \
SEED_CLIENTS=200 \
node scripts/seed_analytics.js
```

Поддерживаемые переменные окружения:
- `SEED_TEAM_ID` или `SEED_TEAM_SLUG` — выбор команды.
- `SEED_BOOKINGS`, `SEED_MASTERS`, `SEED_CLIENTS` — объёмы.
- `SEED_ADMIN_EMAIL`, `SEED_ADMIN_PASSWORD` — учётка админа.

Примечания:
- Скрипт также дополняет данные. Для «чистого» прогона используйте свой reset‑скрипт БД.
- Если нужно поправить пароль у тестового админа после сидирования, можно использовать `scripts/fix_admin_password.js`.


