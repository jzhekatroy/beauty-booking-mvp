# üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets –¥–ª—è –¥–µ–ø–ª–æ—è

## –ß—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å

–ó–∞–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions** –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã:

### 1. DATABASE_URL
**–ù–∞–∑–≤–∞–Ω–∏–µ:** `DATABASE_URL`  
**–ó–Ω–∞—á–µ–Ω–∏–µ:** `postgresql://beauty_user:your_password@test.2minutes.ru:5432/beauty?schema=public`

### 2. HOST
**–ù–∞–∑–≤–∞–Ω–∏–µ:** `HOST`  
**–ó–Ω–∞—á–µ–Ω–∏–µ:** `test.2minutes.ru`

### 3. USERNAME  
**–ù–∞–∑–≤–∞–Ω–∏–µ:** `USERNAME`  
**–ó–Ω–∞—á–µ–Ω–∏–µ:** `root`

### 4. SSH_KEY
**–ù–∞–∑–≤–∞–Ω–∏–µ:** `SSH_KEY`  
**–ó–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ SSH –∫–ª—é—á–∞

## –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å SSH_KEY

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ test.2minutes.ru:
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@test.2minutes.ru

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –µ—Å—Ç—å –ª–∏ SSH –∫–ª—é—á
ls -la ~/.ssh/

# –ï—Å–ª–∏ –Ω–µ—Ç –∫–ª—é—á–∞, —Å–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ
ssh-keygen -t rsa -b 4096 -C "github-actions"
# –ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –≤—Å–µ—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ (–±–µ–∑ –ø–∞—Ä–æ–ª—è)

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
cat ~/.ssh/id_rsa
```

### –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–°–Å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:
```
-----BEGIN OPENSSH PRIVATE KEY-----
b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABlwAAAAdzc2gtcn
... (–º–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫) ...
-----END OPENSSH PRIVATE KEY-----
```

### –î–æ–±–∞–≤—å—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –≤ authorized_keys:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys
chmod 600 ~/.ssh/authorized_keys
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
```bash
# –° –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
ssh root@test.2minutes.ru
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /home/beautyapp/beauty-booking
git remote -v
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: origin https://github.com/jzhekatroy/beauty-booking-mvp.git
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
ls -la /home/beautyapp/beauty-booking
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: beautyapp:beautyapp
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤:

1. **–°–¥–µ–ª–∞–π—Ç–µ –ª—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –∫–æ–¥–µ**
2. **–ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏ –∑–∞–ø—É—à—å—Ç–µ:**
   ```bash
   git add .
   git commit -m "Test deployment"
   git push origin main
   ```
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫–µ Actions –Ω–∞ GitHub**
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∞–π—Ç: http://test.2minutes.ru**

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH –∫–ª—é—á
ssh -T git@github.com

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@test.2minutes.ru
```

### –û—à–∏–±–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞
sudo chown -R beautyapp:beautyapp /home/beautyapp/beauty-booking
```

### –û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
cd /home/beautyapp/beauty-booking
npx prisma db push
```

## –ì–æ—Ç–æ–≤–æ! üéâ

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤, –∫–∞–∂–¥—ã–π push –≤ `main` –≤–µ—Ç–∫—É –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä `test.2minutes.ru`!
